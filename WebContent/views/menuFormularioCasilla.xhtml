<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/layout/layout.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
	
	<ui:define name="content">
		<div class="wrapper wrapper-content animated fadeInRight">
		    <div class="row">
		        <div class="col-lg-12">
		            <div class="ibox float-e-margins">
		                <div class="ibox-title">
		                    <h5>Lista de formularios con casillas</h5>
		                </div>
		                <div class="ibox-content">
						    <form jsf:id="departamentos">
			                    <div class="table-responsive">
			                    	<p:dataTable var="formulario" widgetVar="dtFormularioCasilla" value="#{gestionFormularios.listar()}" rowKey="#{formulario.id}" reflow="true" styleClass="products-table">
				                    	<f:facet name="header">
							                <div class="input-group">
							                    <p:inputText id="globalFilter" onkeyup="PF('dtFormularioCasilla').filter()" class="form-control" placeholder="Busqueda global"/>
							                    <span class="filter-container ui-input-icon-left" > 
							                       	<h:link outcome ="frmFormularioCasilla.xhtml" class="btn btn-success">
										    			<f:param name="modalidad" value="insert" /><i class="pi pi-plus"></i> Nuevo
													</h:link>
							                    </span>
							                </div>
							            </f:facet>
							            <p:repeat value="#{formulario.casillas}" var="casilla">
			                 				<p:column headerText="Formulario" filterBy="#{formulario.nombre}">
								                <h:outputText value="#{formulario.nombre}"/>
								            </p:column>
								            <p:column headerText="Casilla" filterBy="#{casilla.nombre}">
								                <h:outputText value="#{casilla.nombre}"/>
								            </p:column>
							            </p:repeat>
						            </p:dataTable>
								</div>
							</form>
		            	</div>
		        	</div>
		    	</div>
			</div>
		</div>
    </ui:define>
</ui:composition>
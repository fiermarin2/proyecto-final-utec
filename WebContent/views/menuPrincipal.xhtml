<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/layout/layout.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
	
	<ui:define name="content">
		<div class="wrapper wrapper-content animated fadeInRight">
		    <div class="row">
		        <div class="col-lg-12">
		            <div class="ibox float-e-margins">
		            	<p:messages id="messages" showDetail="true" closable="true">
				            <p:autoUpdate/>
				        </p:messages>
		                <div class="ibox-title">
		                    <h5>Lista de Usuarios</h5>
		                </div>
		                <div class="ibox-content">
		                    <div class="input-group">
						        <input type="text" class="form-control" id="filter"  placeholder="Buscar..."/>
						        <span class="input-group-btn">
						            <a class="btn btn-success" href="FrmUser.xhtml">
						             	<i class="fa fa-plus"></i> Nuevo
					             	</a>
		                        </span>
						    </div>
						    <form jsf:id="idDatosusuario">
			                    <div class="table-responsive">
			                    	<table class="footable table table-stripped">
		                                <thead>
		                                    <tr>
		                                        <th>ID</th>
		                                        <th data-hide="phone,tablet">Nombre</th>
		                                        <th data-hide="phone,tablet">Apellido</th>
		                                        <th data-hide="phone,tablet">Correo</th>
		                                        <th data-hide="phone,tablet">Nombre Usuario</th>
		                                        <th data-hide="phone,tablet">Tipo Usuario</th>
		                                        <th class="text-right">Acciones</th>
		                                    </tr>
		                                </thead>
		                                <tbody>
					                    	<p:repeat value="#{gestionUsuarios.listar()}" var="usuario">
					                    		<tr> 
					                    			<td>#{usuario.id}</td>
					                    			<td>#{usuario.nombre}</td>
					                    			<td>#{usuario.apellido}</td>
					                    			<td>#{usuario.mail}</td>
					                    			<td>#{usuario.usuario}</td>
					                    			<td>#{usuario.tipo}</td>
					                    			<td class="text-right">
					                    				<p:link outcome="FrmUser.xhtml">
												      		<f:param name="id" value="${usuario.id}"/>
												      		<f:param name="tipoUsuario" value="${usuario.tipo}" />
											    			<f:param name="modalidad" value="update" />
											                <i class="btn btn-xs btn-default fa fa-edit"></i>
												         </p:link>
												         <p:spacer width="2" />
												         <p:commandLink action="#{gestionUsuarios.eliminarUsuario()}">
												      		<f:param name="id" value="${usuario.id}"/>
												      		<i class="btn btn-xs btn-danger fa fa-trash"></i>
												         </p:commandLink>
					                    			</td>
					                    		</tr>
					                    	</p:repeat>
				                    		<tfoot>
		                                        <tr>
		                                            <td colspan="5">
		                                                <ul class="pagination pull-left"></ul>
		                                            </td>
		                                        </tr>
		                                    </tfoot>
		                                </tbody>
			                    	</table>
								</div>
							</form>
		            	</div>
		        	</div>
		    	</div>
			</div>
		</div>
    </ui:define>
</ui:composition>